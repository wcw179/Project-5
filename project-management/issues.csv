Title,Body,Labels,Milestone
Phase 0 – ADR & Compliance Matrix,"ADR-000; compliance checklist; traceability mapping to rules (SQLite M5, dynamic horizons 1–4h/4–12h/12–24h, CV 24h embargo, 200h rolling window, XGB ensemble 0.4/0.3/0.3, signal gate, Kelly risk, portfolio limits, A/B serving). Acceptance: ADR approved; checklist in CI; mapping complete.","phase:Phase0|architecture|compliance|rules:SQLite-M5|rules:RollingWindow-200h|rules:CV-24h-Embargo|rules:Labeling-Dynamic-MultiHorizon|rules:Ensemble-XGB-Weights|rules:Signal-Gate|rules:Kelly-PortfolioLimits","Foundation & Pipelines Complete (Wk 2)"
1.1 Repository Setup & Project Structure,"Repo tree (config, data, models, src, tests, notebooks, logs, docs); Python ML .gitignore; venv + requirements; pre-commit (black, isort, flake8, mypy); GitHub Actions CI; README. Acceptance: CI green; pre-commit passing; README complete.","phase:Phase1|repo|ci|code-quality","Foundation & Pipelines Complete (Wk 2)"
1.2 Configuration & Logging System,"YAML config with env overlays; Pydantic validation; structured JSON logs with rotation, request_id, symbol; secrets via .env + keyring/KMS. Acceptance: schema validated; logs redact secrets.","phase:Phase1|config|logging|security","Foundation & Pipelines Complete (Wk 2)"
1.3 Broker API Integration Stubs (MT5),"MT5 connector with retry/backoff and health check; M5 bars/tick retrieval; order/position stubs; typed exceptions; dry-run. Acceptance: reconnect tests pass; dry-run respects risk limits.","phase:Phase1|data|mt5|execution","Foundation & Pipelines Complete (Wk 2)"
1.4 Real-Time Data Pipeline (M5 canonical),"Ingest from SQLite data/m5_trading.db + optional MT5 live; schema/gap/outlier validation; normalization; missing data handling; 200h circular buffers; synchronized EURUSDm/GBPUSDm/USDJPYm/XAUUSDm; 1-min refresh. Acceptance: exact 200h replay; <1s latency; zero critical validation errors.","phase:Phase1|data|streaming|rules:RollingWindow-200h","Foundation & Pipelines Complete (Wk 2)"
1.5 Basic Feature Engineering Framework,"Temporal (sessions, session_transition, timezone, news proximity scaffold); Technical base (EMA20/50/200 H1/H4 from M5, MACD, RSI, Stoch, Bollinger, ATR, OBV, VWAP); modular/versioned pipeline; validation/outliers. Acceptance: deterministic tests; parity with base rule features; 200h/4 symbols <1s.","phase:Phase1|features","Foundation & Pipelines Complete (Wk 2)"
1.6 Simple Backtesting Framework,"Historical loader; position simulator with spread/slippage; metrics (Sharpe, PF, MDD, hit rate); equity/drawdown/trade logs; comparison. Acceptance: reproducible baseline run from SQLite.","phase:Phase1|backtesting","Foundation & Pipelines Complete (Wk 2)"
Phase 1A – EURUSDm Training Pipeline (Epic),"CV (Walk-Forward 2000h/500h/100h step/24h embargo, Purged K-Fold, CPCV); dynamic labels (1–4h/4–12h/12–24h, hit_5R/10R/15R/20R) with spread/slippage, ATR-adjusted; XGB fast/balanced/deep with calibration; Optuna TPE 50–100 trials (Sharpe/AvgRet/Stability, MaxDD<8%); SHAP; artifacts (joblib, metadata, rollback, A/B ready).","phase:Phase1A|instrument:EURUSDm|modeling|rules:CV-24h-Embargo|rules:Labeling-Dynamic-MultiHorizon","Foundation & Pipelines Complete (Wk 2)"
Phase 1B – XAUUSDm Training Pipeline (Epic),"Mirror EURUSDm with gold-specific spread/volatility tuning; same CV/labels/XGB/Optuna/SHAP/artifacts. Acceptance: same as 1A.","phase:Phase1B|instrument:XAUUSDm|modeling|rules:CV-24h-Embargo|rules:Labeling-Dynamic-MultiHorizon","Foundation & Pipelines Complete (Wk 2)"
Phase 1C – GBPUSDm Training Pipeline (Epic),"Mirror EURUSDm with GBP specifics; same CV/labels/XGB/Optuna/SHAP/artifacts. Acceptance: same as 1A.","phase:Phase1C|instrument:GBPUSDm|modeling|rules:CV-24h-Embargo|rules:Labeling-Dynamic-MultiHorizon","Foundation & Pipelines Complete (Wk 2)"
Phase 1D – USDJPYm Training Pipeline (Epic),"Mirror EURUSDm with JPY specifics; same CV/labels/XGB/Optuna/SHAP/artifacts. Acceptance: same as 1A.","phase:Phase1D|instrument:USDJPYm|modeling|rules:CV-24h-Embargo|rules:Labeling-Dynamic-MultiHorizon","Foundation & Pipelines Complete (Wk 2)"
2.1 Production Model Training Pipeline,"Scheduled retraining (cron/Actions); incremental/warm-start; data drift detection + retrain triggers; job queue/resource mgmt; monitoring hooks. Acceptance: schedule versions models; drift injection triggers alert + retrain.","phase:Phase2|modeling|monitoring","ML Core Complete (Wk 4)"
2.2 Ensemble Prediction System,"Weighted ensemble (0.4 balanced/0.3 deep/0.3 fast) with dynamic weights; real-time inference from 200h store; batch predictions; caching; audit logs. Acceptance: API returns 4-label probabilities within SLA; weights adjust per policy.","phase:Phase2|serving|rules:Ensemble-XGB-Weights","ML Core Complete (Wk 4)"
2.3 Advanced Validation Framework,"Bootstrap (100+); rolling-window; regime/seasonal analyses; dashboards. Acceptance: CIs on metrics; dashboards render.","phase:Phase2|validation|statistics","ML Core Complete (Wk 4)"
2.4 Feature Engineering Enhancement,"Trend alignment (ema_alignment_h1/h4, slope acceleration, composite trend); volatility regime (volatility_regime, vol_expansion_rate, garch_forecast); microstructure (spread_proxy, volume_regime, obv_slope, tick_volume_ratio, order_flow_imbalance); sentiment; feature selection and stability. Acceptance: improves metrics or pruned; reproducible.","phase:Phase2|features|microstructure|volatility|sentiment|selection","ML Core Complete (Wk 4)"
3.1 Signal Generation System (Gate),"Stage1: hit_5R≥0.65 & confidence≥0.7; Stage2: session/context/spread/vol rules; Stage3: stress/correlation; scoring; throttling; persistence; tracking. Acceptance: unit tests cover gates; backtests adhere to policy.","phase:Phase3|signals|risk-gating|rules:Signal-Gate","Trading Engine Complete (Wk 6)"
3.2 Dynamic Position Sizing (Kelly-based),"base_risk=1%; multipliers by probs; final_risk=base×multiplier×confidence; drawdown/vol governors; per-pair caps. Acceptance: bounded/monotonic; never exceeds limits in sim.","phase:Phase3|sizing|risk|rules:Kelly-PortfolioLimits","Trading Engine Complete (Wk 6)"
3.3 Portfolio Risk Management,"Position: hard 1R SL; trailing (ATR/VWAP); partial profits (3R/7R/12R). Portfolio: daily≤5%, weekly≤15%, max 3; correlation limits. Crisis protocols. Acceptance: policy blocks violations; crisis sims trigger.","phase:Phase3|risk|portfolio","Trading Engine Complete (Wk 6)"
3.4 Trade Execution Engine,"OMS for market/stop/TP; modify/cancel; execution quality analysis; lifecycle (entry/monitor/exit/reconcile). Acceptance: paper exec ≤60s; slippage tracked; reconciliation passes.","phase:Phase3|execution|oms","Trading Engine Complete (Wk 6)"
3.5 Performance Monitoring & Alerting,"Real-time P&L/drawdown/trade analytics/system health; alerts Email/SMS/Slack; model degradation rules (rolling_accuracy_7d, rolling_sharpe_30d). Acceptance: synthetic tests trigger; metrics accurate.","phase:Phase3|monitoring|alerting","Trading Engine Complete (Wk 6)"
4.1 Paper Trading Implementation,"Simulated env with latency/delay; live data; real-time signals; paper execution; comprehensive logging/audit. Acceptance: 8+ hr run without crash; audit complete.","phase:Phase4|paper-trading","Ready for Production (Wk 8)"
4.2 Historical Stress Testing,"Multi-regime backtests; crisis (2008, 2020); volatility regime analysis; scenarios; Monte Carlo with CIs. Acceptance: reports generated; risk policy validated.","phase:Phase4|stress-testing|monte-carlo","Ready for Production (Wk 8)"
4.3 Performance Validation vs KPIs,"KPI harness: Sharpe≥2.1, 5R+ hit≥60%, MaxDD<8%, daily DD<5%, win≥62%, PF≥2.5; significance tests; CIs; benchmarks. Acceptance: pass/fail with rationale; failing KPIs open tickets.","phase:Phase4|kpi|validation","Ready for Production (Wk 8)"
4.4 Production Deployment,"Cloud IaC; Docker; CI/CD; DB setup; KMS secrets; A/B serving 80/20. Acceptance: one-click staging deploy; rollback; secrets rotation.","phase:Phase4|deployment|cicd|security","Ready for Production (Wk 8)"
4.5 Monitoring Dashboard (Streamlit),"Real-time metrics/trade history/model performance/risk metrics/feature drift/model confidence; feature importance trends; signal frequency; health indicators. Acceptance: renders with live feed; UI SLA.","phase:Phase4|dashboard|monitoring","Ready for Production (Wk 8)"
4.6 Documentation & Training,"Architecture docs; API refs; training/deploy procedures; troubleshooting; user docs; maintenance manual. Acceptance: peer-reviewed; onboarding walk-through successful.","phase:Phase4|docs|onboarding","Ready for Production (Wk 8)"

